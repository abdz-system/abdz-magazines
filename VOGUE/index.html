<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VOGUE ‚Äî ABDZ</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 10px;
    }

    .viewer {
      max-width: 1100px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
      text-align: center;
    }

    .pages { display: block; }

    .page { display: none; }
    .page.active { display: block; }

    .page img {
      max-width: 100%;
      max-height: 85vh;
      width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
      object-fit: contain;
    }

    .nav-buttons {
      margin-top: 18px;
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    button {
      background: black;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      transition: 0.2s;
      flex: 1;
    }

    button:hover { background: #b30000; }

    .page-number {
      margin-top: 8px;
      font-size: 14px;
      color: #5a5a5a;
      text-align: center;
    }

    @media (max-width: 600px) {
      body { padding: 5px; }
      .viewer { padding: 12px; border-radius: 12px; }
    }

    /* üñ• Double page uniquement sur ordi */
    @media (min-width: 1024px) {
      .pages.double-layout {
        display: flex;
        justify-content: center;
        gap: 24px;
      }

      /* Pages normales (deux pages c√¥te √† c√¥te) */
      .pages.double-layout .page.active {
        flex: 0 0 45%;
      }

      .pages.double-layout .page.active img {
        max-height: 92vh;
      }

      /* ‚úÖ Pages "transition" en double-page (plein centre) */
      .pages.double-layout .page.active.spread {
        flex: 0 0 100%;
      }
    }
  </style>
</head>

<body>
  <div class="viewer">
    <div class="pages" id="pagesContainer"></div>

    <div class="nav-buttons">
      <button id="prevBtn" onclick="prevPage()">‚Üê Page pr√©c√©dente</button>
      <button id="nextBtn" onclick="nextPage()">Page suivante ‚Üí</button>
    </div>

    <div class="page-number" id="pageNumber"></div>
  </div>

  <script>
    // ‚úÖ Liste exacte (41 fichiers)
    const fileList = [
      "couverture.png",

      "1.png",
      "2.png",
      "3.png",
      "4.png",
      "A1.png",

      "5.png",
      "6.png",
      "7.png",
      "8.png",
      "9.png",
      "10.png",
      "11.png",
      "12.png",
      "B2.png",

      "13.png",
      "14.png",
      "15.png",
      "16.png",
      "17.png",
      "18.png",
      "C3.png",

      "19.png",
      "20.png",
      "21.png",
      "22.png",
      "D4.png",

      "23.png",
      "24.png",
      "25.png",
      "26.png",
      "27.png",
      "E5.png",

      "28.png",
      "29.png",
      "30.png",
      "31.png",
      "32.png",
      "33.png",
      "34.png",

      "derniere-couverture.png"
    ];

    // ‚úÖ Pages √† afficher en "double-page" (plein centre sur ordi)
    const spreadFiles = new Set([
      "couverture.png",
      "A1.png",
      "B2.png",
      "C3.png",
      "D4.png",
      "E5.png",
      "derniere-couverture.png"
    ]);

    const pagesContainer = document.getElementById("pagesContainer");

    fileList.forEach((fileName) => {
      const page = document.createElement("div");
      page.className = "page";

      if (spreadFiles.has(fileName)) {
        page.classList.add("spread");
      }

      const img = document.createElement("img");
      img.src = `IMAGES/${fileName}`;
      img.alt = fileName;

      page.appendChild(img);
      pagesContainer.appendChild(page);
    });

    let currentPage = 0;
    const pages = document.querySelectorAll(".page");
    const pageNumber = document.getElementById("pageNumber");
    const prevBtn = document.getElementById("prevBtn");

    function isDesktop() {
      return window.innerWidth >= 1024;
    }

    function isSpreadIndex(index) {
      const file = fileList[index];
      return spreadFiles.has(file);
    }

    function render() {
      const desktop = isDesktop();

      pages.forEach(p => p.classList.remove("active"));
      pagesContainer.classList.remove("double-layout");

      // MOBILE / TABLETTE : 1 page √† la fois
      if (!desktop) {
        pages[currentPage].classList.add("active");
        pageNumber.textContent = `Page ${currentPage + 1} / ${pages.length}`;
        prevBtn.style.visibility = (currentPage === 0) ? "hidden" : "visible";
        return;
      }

      // ORDI : cover (page 0) en simple
      if (currentPage === 0) {
        pages[0].classList.add("active");
        pageNumber.textContent = `Page 1 / ${pages.length}`;
        prevBtn.style.visibility = "hidden";
        return;
      }

      // ORDI : double layout activ√©
      pagesContainer.classList.add("double-layout");

      // Si c'est une page "spread" => pleine largeur, seule
      if (isSpreadIndex(currentPage)) {
        pages[currentPage].classList.add("active");
        // Option : l'afficher comme une double-page (ex: Pages 6‚Äì7)
        pageNumber.textContent = `Pages ${currentPage + 1}‚Äì${Math.min(currentPage + 2, pages.length)} / ${pages.length}`;
      } else {
        // Sinon : 2 pages c√¥te √† c√¥te (sauf si la suivante est un spread)
        const first = currentPage;
        const second = Math.min(currentPage + 1, pages.length - 1);

        pages[first].classList.add("active");

        if (!isSpreadIndex(second) && second !== first) {
          pages[second].classList.add("active");
          pageNumber.textContent = `Pages ${first + 1}‚Äì${second + 1} / ${pages.length}`;
        } else {
          // si la suivante est un spread, on n'affiche pas la seconde
          pageNumber.textContent = `Page ${first + 1} / ${pages.length}`;
        }
      }

      prevBtn.style.visibility = (currentPage === 0) ? "hidden" : "visible";
    }

    function nextPage() {
      const desktop = isDesktop();

      if (!desktop) {
        currentPage = (currentPage === pages.length - 1) ? 0 : currentPage + 1;
        render();
        return;
      }

      if (currentPage === 0) {
        currentPage = 1;
        render();
        return;
      }

      // Si on est sur un spread => avancer de 1
      if (isSpreadIndex(currentPage)) {
        currentPage = (currentPage === pages.length - 1) ? 0 : currentPage + 1;
        render();
        return;
      }

      // Si la prochaine page est un spread => avancer de 1 pour tomber dessus
      if (currentPage + 1 < pages.length && isSpreadIndex(currentPage + 1)) {
        currentPage += 1;
        render();
        return;
      }

      // Sinon double-page classique => +2
      currentPage += 2;
      if (currentPage >= pages.length) currentPage = 0;
      render();
    }

    function prevPage() {
      const desktop = isDesktop();

      if (!desktop) {
        currentPage = (currentPage > 0) ? currentPage - 1 : pages.length - 1;
        render();
        return;
      }

      if (currentPage === 0) {
        currentPage = pages.length - 1;
        render();
        return;
      }

      if (currentPage === 1) {
        currentPage = 0;
        render();
        return;
      }

      // Si on est sur un spread => reculer de 1
      if (isSpreadIndex(currentPage)) {
        currentPage -= 1;
        render();
        return;
      }

      // Sinon double-page classique => -2
      currentPage -= 2;
      if (currentPage < 0) currentPage = 0;
      render();
    }

    window.addEventListener("resize", render);
    render();
  </script>
</body>
</html>
